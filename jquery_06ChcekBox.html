<!--
-------------------------------------
jquery_06.html
--------------------------------------
=> JQuery 를 사용하여 checkbox 에 change 이벤트가 발생하면 실행할 코드를 설정한다. 
=>  jQuery 의 prop(~) 메소드를 사용하여 하나의 checkbox 클릭하면
	 여러개의 다른 checkbox 를 체크하거나 해제한다.
-->

<html>
	<meta charset="Utf-8">
 <head>
	 <script src="jquery-1.11.0.min.js"></script>
	<script>
		//---------------------------------------------------------------------------
		//	$(document).ready( function(){자스코딩}   );
		// body 태그 안의 요소들을 읽어들인 후 익명함수 내부의 자스코딩을 실행.
		//---------------------------------------------------------------------------
			$(document).ready( function(){
			//name=hobby_all 을 가진 태그를 관리하는 JQuery 객체의 메위주를 obj1 변수에 저장
			var obj1=$("[name='hobby_all']");


			//name=hobby 을 가진 태그를 관리하는 JQuery 객체의 메위주를 obj2 변수에 저장
			var obj2=$("[name='hobby']");
		//---------------------------------------------------------------------------
		//name=hobby_all 을 가진 태그에 chang 라는 이벤트가 발생하면 실행할 코드설정.,
		// 즉 hobby_all 을 가진 태그에 체크가 들어가거나 체크가 빠지면 실행할 코드설정하기.
		//---------------------------------------------------------------------------
			obj1.change(  function() {
			
				//----------------------------------------------------------
				// 만약에 name=hobby_all 가진 태그에 체크가 되어있으면
				// name=hobby 을 가진 태그에 체크하기
				//----------------------------------------------------------		
					 if( obj1.is(":checked")  ) {
					 	obj2.prop("checked",true);
					 }		
				//----------------------------------------------------------
				// 만약에 name=hobby_all 가진 태그에 체크가되어있지않으면 
				// name=hobby 을 가진 태그에 체크풀기
				//----------------------------------------------------------
				else{
					 	obj2.prop("checked",false);
					 }	
					 //-----------------------------------------------
					 // 위 if(~){~} else{~} 구문은 아래로 코드로 대체가 가능하다.
					 //-----------------------------------------------
					  //obj2.prop("checked" , obj1.is(":checked")    );
					  //  obj1.is(":checked")  true 를 넣어보면 obj2 true이다.
			} );
		//---------------------------------------------------------------------------
		//name=hobby 을 가진 태그에 chang 라는 이벤트가 발생하면 실행할 코드설정.,
		//---------------------------------------------------------------------------
				obj2.change(  function() {
					//----------------------------------------------------------
					// 만약에 name=hobby 가진 태그에 체크가 안된 놈이 1개이상 있으면 
					// name=hobby_all 을 가진 태그에 체크 풀기
					//----------------------------------------------------------		
					if(obj2.filter(":checked").length<obj2.length  ) {
					//if( $("[name='hobby']").filter(":checked").length<$("[name='hobby']").length  ) {
						//-----------------------------------------
						// 위 조건문은 아래처럼도 가능하다.
						//----------------------------------------
						// if( obj2.filter(":not(:checked)").length>0   ){

						obj1.prop("checked",false);
					}
					//----------------------------------------------------------
					// 만약에 name=hobby 가진 태그에 체크가 안된 놈이 0개면
					// name=hobby_all 을 가진 태그에 체크 넣기
					//----------------------------------------------------------
					else{
						obj1.prop("checked",true);
					}
			} );

		} );
</script>
 </head>

 <body><center>
		<hr>
		<input type="checkbox" name="hobby_all"> 전체
		<hr>
  		<input type="checkbox" name="hobby"  value="독서">독서<br>
		<input type="checkbox" name="hobby"  value="운동">운동<br>
		<input type="checkbox" name="hobby"  value="여행">여행<br>
		<input type="checkbox" name="hobby"  value="수집">수집  
 </body>
</html>
